{"mappings":"YAEA,IAAMA,EAAM,0DAENC,EAAW,SAAAC,GACfC,QAAQC,IAAI,QAEZ,IAAMC,EAAU,CACdC,OAAQ,OACRC,KAAMC,KAAKC,UAAUP,GACrBQ,QAAS,CACP,eAAgB,qBAIpB,OAAOC,MAAMX,EAAKK,E,EAWdO,EAAa,SAACC,EAAIC,GACtBX,QAAQC,IAAI,OAEZ,IAAMC,EAAU,CACdC,OAAQ,MACRC,KAAMC,KAAKC,UAAU,CAAEM,OAAQD,IAC/BJ,QAAS,CACP,eAAgB,qBAIpB,OAAOC,MAAM,GAAUK,OAAPhB,EAAI,KAAMgB,OAAHH,GAAMR,E,EAIzBY,EAAa,SAAAJ,GACjBV,QAAQC,IAAI,UAMZ,OAAOO,MAAM,GAAUK,OAAPhB,EAAI,KAAMgB,OAAHH,GAJP,CACdP,OAAQ,U,EC3CNY,EAAUC,SAASC,eAAe,WAClCC,EAAOF,SAASC,eAAe,QACjCE,EAAY,EAehB,SAASC,EAASC,G,IAAMT,EAAAU,UAAAC,OAAA,YAAAD,UAAA,IAAcA,UAAA,GAAEZ,EAAAY,UAAAC,OAAA,YAAAD,UAAA,GAAcA,UAAA,GAATH,EACrCK,EAAOR,SAASS,cAAc,MACpCP,EAAKQ,YAAYF,GAEjBA,EAAKG,YAAcN,EACnBG,EAAKI,QAAQlB,GAAKA,EAEdE,IACFY,EAAKK,UAAY,WAGnBC,EAAeN,E,CAGjB,SAASM,EAAeC,GACtB,IAAMC,EAAOhB,SAASS,cAAc,QACpCM,EAAGL,YAAYM,GAEfA,EAAKL,YAAc,IACnBK,EAAKH,UAAY,O,CCpCnB,IAAMI,EAASjB,SAASC,eAAe,UACjCiB,EAAOlB,SAASC,eAAe,QAErCgB,EAAOE,iBAAiB,SDCxB,WACE,IAAMC,EAAarB,EAAQsB,MAAMC,OAEd,KAAfF,GAKJhB,EAASgB,GACTrB,EAAQsB,MAAQ,GA0BlB,SAAqBhB,GAGnBvB,EAFgB,CAAEuB,OAAMT,OADCU,UAAAC,OAAA,YAAAD,UAAA,IAAcA,UAAA,KAIvCH,GAAa,C,CA7BboB,CAAYH,IANVI,MAAM,4B,ICJVN,EAAKC,iBAAiB,SD0CtB,SAA6BM,G,IAAAC,EAAAD,EAAEC,OAC7B,GAAuB,OAAnBA,EAAOC,QAAkB,CAC3BD,EAAOE,UAAUC,OAAO,WAExB,IAAMC,EAASJ,EAAOd,QAAQlB,GACxBqC,EAAaL,EAAOE,UAAUI,SAAS,WAC7CvC,EAAWqC,EAAQC,E,CAGrB,GAAuB,SAAnBL,EAAOC,QAAoB,CAC7BD,EAAOO,WAAWC,SAElB,IAAMC,EAAST,EAAOO,WAAWrB,QAAQlB,GACzCI,EAAWqC,E,KCrDfC,OAAOjB,iBAAiB,oBDyDxB,YD7CEnC,QAAQC,IAAI,OAELO,MAAMX,GAAKwD,MAAK,SAAAC,G,OAAOA,EAAIC,M,KC6C/BF,MAAK,SAAAG,GAGJ,OAFAA,EAAMC,SAAQ,SAAAhB,G,OAA0BrB,EAAnBqB,EAAJpB,KAAYoB,EAAN7B,OAAU6B,EAAF/B,G,IAC/BV,QAAQC,IAAIuD,GACLA,C,IAERH,MAAK,SAAAG,GACJrC,EACmB,IAAjBqC,EAAMjC,OAAe,EAAImC,OAAOF,EAAMA,EAAMjC,OAAS,GAAGb,IAAM,C","sources":["src/js/api.js","src/js/functions.js","src/js/script.js"],"sourcesContent":["import axios from 'axios';\n\nconst URL = 'https://659e293947ae28b0bd35422e.mockapi.io/todos/todos';\n\nconst saveTask = task => {\n  console.log('POST');\n\n  const options = {\n    method: 'POST',\n    body: JSON.stringify(task),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n\n  return fetch(URL, options);\n  // return axios.post(URL, task);\n};\n\nconst loadTasks = () => {\n  console.log('GET');\n\n  return fetch(URL).then(res => res.json());\n  // return axios.get(URL).then(res => res.data);\n};\n\nconst updateTask = (id, status) => {\n  console.log('PUT');\n\n  const options = {\n    method: 'PUT',\n    body: JSON.stringify({ isDone: status }),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  };\n\n  return fetch(`${URL}/${id}`, options);\n  // return axios.put(`${URL}/${id}`, {isDone: status});\n};\n\nconst deleteTask = id => {\n  console.log('DELETE');\n\n  const options = {\n    method: 'DELETE',\n  };\n\n  return fetch(`${URL}/${id}`, options);\n  // return axios.delete(`${URL}/${id}`);\n};\n\nexport { saveTask, loadTasks, updateTask, deleteTask };\n","import { saveTask, loadTasks, updateTask, deleteTask } from './api.js';\n\nconst myInput = document.getElementById('myInput');\nconst myUL = document.getElementById('myUL');\nlet currentId = 1;\n\nfunction addNewTask() {\n  const inputValue = myInput.value.trim();\n\n  if (inputValue === '') {\n    alert('You must write something!');\n    return;\n  }\n\n  createLI(inputValue);\n  myInput.value = '';\n  addTaskToDB(inputValue);\n}\n\nfunction createLI(text, isDone = false, id = currentId) {\n  const liEL = document.createElement('LI');\n  myUL.appendChild(liEL);\n\n  liEL.textContent = text;\n  liEL.dataset.id = id;\n\n  if (isDone) {\n    liEL.className = 'checked';\n  }\n\n  addCloseButton(liEL);\n}\n\nfunction addCloseButton(li) {\n  const span = document.createElement('SPAN');\n  li.appendChild(span);\n\n  span.textContent = '\\u00D7';\n  span.className = 'close';\n}\n\nfunction addTaskToDB(text, isDone = false) {\n  const newTask = { text, isDone };\n  // const newTask = {text: text, isDone: isDone};\n  saveTask(newTask);\n  currentId += 1;\n}\n\nfunction handleTaskBehaviour({ target }) {\n  if (target.tagName === 'LI') {\n    target.classList.toggle('checked');\n\n    const taskId = target.dataset.id;\n    const taskStatus = target.classList.contains('checked');\n    updateTask(taskId, taskStatus);\n  }\n\n  if (target.tagName === 'SPAN') {\n    target.parentNode.remove();\n\n    const taskId = target.parentNode.dataset.id;\n    deleteTask(taskId);\n  }\n}\n\nfunction fillTasksList() {\n  loadTasks()\n    .then(todos => {\n      todos.forEach(({ text, isDone, id }) => createLI(text, isDone, id));\n      console.log(todos);\n      return todos;\n    })\n    .then(todos => {\n      currentId =\n        todos.length === 0 ? 1 : Number(todos[todos.length - 1].id) + 1;\n    });\n}\n\nexport { addNewTask, handleTaskBehaviour, fillTasksList };\n","import { addNewTask, handleTaskBehaviour, fillTasksList } from './functions.js';\n\nconst addBtn = document.getElementById('addBtn');\nconst myUL = document.getElementById('myUL');\n\naddBtn.addEventListener('click', addNewTask);\nmyUL.addEventListener('click', handleTaskBehaviour);\n\nwindow.addEventListener('DOMContentLoaded', fillTasksList);\n"],"names":["$8197bff4c39d585a$var$URL","$8197bff4c39d585a$export$2889637ef1bcfccc","task","console","log","options","method","body","JSON","stringify","headers","fetch","$8197bff4c39d585a$export$e8e0154b7bb02be4","id","status","isDone","concat","$8197bff4c39d585a$export$f08d315250e1aa23","$948879cda51999ba$var$myInput","document","getElementById","$948879cda51999ba$var$myUL","$948879cda51999ba$var$currentId","$948879cda51999ba$var$createLI","text","arguments","length","liEL","createElement","appendChild","textContent","dataset","className","$948879cda51999ba$var$addCloseButton","li","span","$66b821ea461d9f2a$var$addBtn","$66b821ea461d9f2a$var$myUL","addEventListener","inputValue","value","trim","$948879cda51999ba$var$addTaskToDB","alert","param","target","tagName","classList","toggle","taskId","taskStatus","contains","parentNode","remove","taskId1","window","then","res","json","todos","forEach","Number"],"version":3,"file":"index.933fe789.js.map"}